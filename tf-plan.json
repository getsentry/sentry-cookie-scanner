{"format_version":"1.2","terraform_version":"1.7.2","variables":{"bucket_location":{"value":"US-WEST1"},"deploy_sa_email":{"value":null},"owner":{"value":"team-security"},"project":{"value":"sentry-cookie-scanner"},"project_id":{"value":"sentry-cookie-scanner"},"project_num":{"value":"695686394944"},"region":{"value":"us-west1"},"tf_state_bucket":{"value":"sentry-cookie-scanner-infra"},"zone":{"value":"us-west1-b"}},"planned_values":{"root_module":{"child_modules":[{"address":"module.functions","child_modules":[{"resources":[{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].data.archive_file.source","mode":"data","type":"archive_file","name":"source","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":["main.tf","terraform.yaml"],"output_file_mode":null,"output_path":"/tmp/sitemap-collector.zip","source":[],"source_content":null,"source_content_filename":null,"source_dir":"functions/sitemap-collector","source_file":null,"type":"zip"},"sensitive_values":{"excludes":[false,false],"source":[]}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function.function","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"build_config":[{"docker_repository":"projects/sentry-cookie-scanner/locations/us-west1/repositories/gcf-artifacts","entry_point":"main","on_deploy_update_policy":[],"runtime":"python311","source":[{"repo_source":[],"storage_source":[{"bucket":"sentry-cookie-scanner-cloud-function-staging"}]}],"worker_pool":null}],"description":"collect all the pages in the sitemaps provided and save them to pub/sub","effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"event_trigger":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"location":"us-west1","name":"sitemap-collector","project":"sentry-cookie-scanner","service_config":[{"all_traffic_on_latest_revision":true,"available_memory":"256M","ingress_settings":"ALLOW_ALL","min_instance_count":null,"secret_environment_variables":[],"secret_volumes":[],"service_account_email":"cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","timeout_seconds":60,"vpc_connector":null,"vpc_connector_egress_settings":null}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"build_config":[{"automatic_update_policy":[],"environment_variables":{},"on_deploy_update_policy":[],"source":[{"repo_source":[],"storage_source":[{}]}]}],"effective_labels":{},"event_trigger":[],"labels":{},"service_config":[{"environment_variables":{},"secret_environment_variables":[],"secret_volumes":[]}],"terraform_labels":{}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function_iam_member.invoker_iam","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"cloud_function":"sitemap-collector","condition":[],"location":"us-west1","member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_project_iam_member.function_sa_logwriter_iam","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.logWriter"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account.function_sa","mode":"managed","type":"google_service_account","name":"function_sa","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"cf-sitemap-collector","create_ignore_already_exists":null,"description":"Service account for sitemap-collector, owned by team-security, managed by Terraform","disabled":false,"display_name":"Cloud Function Service Account for sitemap-collector","email":"cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account_iam_member.function_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_storage_bucket_object.zip","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-cloud-function-staging","cache_control":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"application/zip","customer_encryption":[],"detect_md5hash":"different hash","event_based_hold":null,"metadata":{"owner":"team-security","terraformed":"true"},"retention":[],"source":"/tmp/sitemap-collector.zip","temporary_hold":null,"timeouts":null},"sensitive_values":{"customer_encryption":[],"metadata":{},"retention":[]}}],"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]"},{"resources":[{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].data.archive_file.source","mode":"data","type":"archive_file","name":"source","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":["main.tf","terraform.yaml"],"output_file_mode":null,"output_path":"/tmp/example-gen2-cron.zip","source":[],"source_content":null,"source_content_filename":null,"source_dir":"functions/example-gen2-cron","source_file":null,"type":"zip"},"sensitive_values":{"excludes":[false,false],"source":[]}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function.function","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"build_config":[{"docker_repository":"projects/sentry-cookie-scanner/locations/us-west1/repositories/gcf-artifacts","entry_point":"main","on_deploy_update_policy":[],"runtime":"python311","source":[{"repo_source":[],"storage_source":[{"bucket":"sentry-cookie-scanner-cloud-function-staging"}]}],"worker_pool":null}],"description":"gen2 cloud function example","effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"event_trigger":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"location":"us-west1","name":"example-gen2-cron","project":"sentry-cookie-scanner","service_config":[{"all_traffic_on_latest_revision":true,"available_memory":"256M","environment_variables":{"ENV_1":"sentry-cookie-scanner","ENV_2":"345"},"ingress_settings":"ALLOW_ALL","min_instance_count":null,"secret_environment_variables":[{"key":"test_key_1","project_id":"sentry-cookie-scanner","secret":"test_key_1","version":"latest"}],"secret_volumes":[],"service_account_email":"cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","timeout_seconds":60,"vpc_connector":null,"vpc_connector_egress_settings":null}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"build_config":[{"automatic_update_policy":[],"environment_variables":{},"on_deploy_update_policy":[],"source":[{"repo_source":[],"storage_source":[{}]}]}],"effective_labels":{},"event_trigger":[],"labels":{},"service_config":[{"environment_variables":{},"secret_environment_variables":[{}],"secret_volumes":[]}],"terraform_labels":{}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function_iam_member.invoker_iam","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"cloud_function":"example-gen2-cron","condition":[],"location":"us-west1","member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_project_iam_member.function_sa_logwriter_iam","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.logWriter"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_secret_manager_secret_iam_member.secret_iam[\"test_key_1\"]","mode":"managed","type":"google_secret_manager_secret_iam_member","name":"secret_iam","index":"test_key_1","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/secretmanager.secretAccessor","secret_id":"test_key_1"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account.function_sa","mode":"managed","type":"google_service_account","name":"function_sa","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"cf-example-gen2-cron","create_ignore_already_exists":null,"description":"Service account for example-gen2-cron, owned by team-security, managed by Terraform","disabled":false,"display_name":"Cloud Function Service Account for example-gen2-cron","email":"cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account_iam_member.function_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_storage_bucket_object.zip","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-cloud-function-staging","cache_control":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"application/zip","customer_encryption":[],"detect_md5hash":"different hash","event_based_hold":null,"metadata":{"owner":"team-security","terraformed":"true"},"retention":[],"source":"/tmp/example-gen2-cron.zip","temporary_hold":null,"timeouts":null},"sensitive_values":{"customer_encryption":[],"metadata":{},"retention":[]}}],"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]"},{"resources":[{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].data.archive_file.source","mode":"data","type":"archive_file","name":"source","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":["main.tf","terraform.yaml"],"output_file_mode":null,"output_path":"/tmp/cookie-scanner.zip","source":[],"source_content":null,"source_content_filename":null,"source_dir":"functions/cookie-scanner","source_file":null,"type":"zip"},"sensitive_values":{"excludes":[false,false],"source":[]}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function.function","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"build_config":[{"docker_repository":"projects/sentry-cookie-scanner/locations/us-west1/repositories/gcf-artifacts","entry_point":"main","on_deploy_update_policy":[],"runtime":"nodejs20","source":[{"repo_source":[],"storage_source":[{"bucket":"sentry-cookie-scanner-cloud-function-staging"}]}],"worker_pool":null}],"description":"cookie scanner based on the blacklight-collector","effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"event_trigger":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"location":"us-west1","name":"cookie-scanner","project":"sentry-cookie-scanner","service_config":[{"all_traffic_on_latest_revision":true,"available_memory":"8G","ingress_settings":"ALLOW_ALL","min_instance_count":null,"secret_environment_variables":[],"secret_volumes":[],"service_account_email":"cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","timeout_seconds":60,"vpc_connector":null,"vpc_connector_egress_settings":null}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"build_config":[{"automatic_update_policy":[],"environment_variables":{},"on_deploy_update_policy":[],"source":[{"repo_source":[],"storage_source":[{}]}]}],"effective_labels":{},"event_trigger":[],"labels":{},"service_config":[{"environment_variables":{},"secret_environment_variables":[],"secret_volumes":[]}],"terraform_labels":{}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function_iam_member.invoker_iam","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"cloud_function":"cookie-scanner","condition":[],"location":"us-west1","member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_project_iam_member.function_sa_logwriter_iam","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.logWriter"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account.function_sa","mode":"managed","type":"google_service_account","name":"function_sa","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"cf-cookie-scanner","create_ignore_already_exists":null,"description":"Service account for cookie-scanner, owned by team-security, managed by Terraform","disabled":false,"display_name":"Cloud Function Service Account for cookie-scanner","email":"cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account_iam_member.function_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_storage_bucket_object.zip","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-cloud-function-staging","cache_control":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"application/zip","customer_encryption":[],"detect_md5hash":"different hash","event_based_hold":null,"metadata":{"owner":"team-security","terraformed":"true"},"retention":[],"source":"/tmp/cookie-scanner.zip","temporary_hold":null,"timeouts":null},"sensitive_values":{"customer_encryption":[],"metadata":{},"retention":[]}}],"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]"},{"resources":[{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_cloud_run_service_iam_member.cj_gen2_cron_invoker","mode":"managed","type":"google_cloud_run_service_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"location":"us-west1","member":"serviceAccount:cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/run.invoker","service":"sitemap-collector"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_cloud_scheduler_job.cron_scheduler","mode":"managed","type":"google_cloud_scheduler_job","name":"cron_scheduler","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"app_engine_http_target":[],"attempt_deadline":"320s","description":"collect all the pages in the sitemaps provided and save them to pub/sub","http_target":[{"body":null,"headers":null,"http_method":"GET","oauth_token":[],"oidc_token":[{"service_account_email":"cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com"}]}],"name":"sitemap-collector","project":"sentry-cookie-scanner","pubsub_target":[],"region":"us-west1","retry_config":[],"schedule":"0 * * * *","time_zone":"America/New_York","timeouts":null},"sensitive_values":{"app_engine_http_target":[],"http_target":[{"oauth_token":[],"oidc_token":[{}]}],"pubsub_target":[],"retry_config":[]}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_cloudfunctions2_function_iam_member.cj_gen2_cron_invoker","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"cloud_function":"sitemap-collector","condition":[],"location":"us-west1","member":"serviceAccount:cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_service_account.cronjob_sa","mode":"managed","type":"google_service_account","name":"cronjob_sa","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"cj-sitemap-collector","create_ignore_already_exists":null,"description":"Service account for sitemap-collector, owned by team-security, managed by Terraform","disabled":false,"display_name":"CronJob Service Account for sitemap-collector","email":"cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}}],"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"]"},{"resources":[{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_cloud_run_service_iam_member.cj_gen2_cron_invoker","mode":"managed","type":"google_cloud_run_service_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"location":"us-west1","member":"serviceAccount:cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/run.invoker","service":"example-gen2-cron"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_cloud_scheduler_job.cron_scheduler","mode":"managed","type":"google_cloud_scheduler_job","name":"cron_scheduler","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"app_engine_http_target":[],"attempt_deadline":"320s","description":"gen2 cloud function example","http_target":[{"body":null,"headers":null,"http_method":"GET","oauth_token":[],"oidc_token":[{"service_account_email":"cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com"}]}],"name":"example-gen2-cron","project":"sentry-cookie-scanner","pubsub_target":[],"region":"us-west1","retry_config":[],"schedule":"0 * * * *","time_zone":"America/New_York","timeouts":null},"sensitive_values":{"app_engine_http_target":[],"http_target":[{"oauth_token":[],"oidc_token":[{}]}],"pubsub_target":[],"retry_config":[]}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_cloudfunctions2_function_iam_member.cj_gen2_cron_invoker","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"cloud_function":"example-gen2-cron","condition":[],"location":"us-west1","member":"serviceAccount:cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"sensitive_values":{"condition":[]}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_service_account.cronjob_sa","mode":"managed","type":"google_service_account","name":"cronjob_sa","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"cj-example-gen2-cron","create_ignore_already_exists":null,"description":"Service account for example-gen2-cron, owned by team-security, managed by Terraform","disabled":false,"display_name":"CronJob Service Account for example-gen2-cron","email":"cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}}],"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"]"}]},{"resources":[{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/cloudfunctions.developer\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/cloudfunctions.developer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.developer"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/iam.serviceAccountCreator\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/iam.serviceAccountCreator","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/iam.serviceAccountCreator"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/iam.serviceAccountUser\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/iam.serviceAccountUser","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/iam.serviceAccountUser"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/iam.workloadIdentityPoolViewer\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/iam.workloadIdentityPoolViewer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/iam.workloadIdentityPoolViewer"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/logging.viewer\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/logging.viewer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.viewer"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/pubsub.admin\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/pubsub.admin","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/pubsub.admin"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/secretmanager.secretAccessor\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/secretmanager.secretAccessor","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/secretmanager.secretAccessor"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/storage.admin\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/storage.admin","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/storage.admin"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/viewer\"]","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/viewer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/viewer"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_project_service.bigquery_googleapis_com","mode":"managed","type":"google_project_service","name":"bigquery_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"bigquery.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.bigquerymigration_googleapis_com","mode":"managed","type":"google_project_service","name":"bigquerymigration_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"bigquerymigration.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.bigquerystorage_googleapis_com","mode":"managed","type":"google_project_service","name":"bigquerystorage_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"bigquerystorage.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudapis_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudapis_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudapis.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudasset_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudasset_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudasset.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudbuild_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudbuild_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudbuild.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudfunctions_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudfunctions_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudfunctions.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudresourcemanager_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudresourcemanager_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudresourcemanager.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudscheduler_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudscheduler_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudscheduler.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.cloudtrace_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudtrace_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudtrace.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.compute_googleapis_com","mode":"managed","type":"google_project_service","name":"compute_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"compute.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.containerregistry_googleapis_com","mode":"managed","type":"google_project_service","name":"containerregistry_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"containerregistry.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.datastore_googleapis_com","mode":"managed","type":"google_project_service","name":"datastore_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"datastore.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.eventarc_googleapis_com","mode":"managed","type":"google_project_service","name":"eventarc_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"eventarc.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.firebaserules_googleapis_com","mode":"managed","type":"google_project_service","name":"firebaserules_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"firebaserules.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.firestore_googleapis_com","mode":"managed","type":"google_project_service","name":"firestore_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"firestore.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.firestorekeyvisualizer_googleapis_com","mode":"managed","type":"google_project_service","name":"firestorekeyvisualizer_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"firestorekeyvisualizer.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.iam_googleapis_com","mode":"managed","type":"google_project_service","name":"iam_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"iam.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.iamcredentials_googleapis_com","mode":"managed","type":"google_project_service","name":"iamcredentials_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"iamcredentials.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.logging_googleapis_com","mode":"managed","type":"google_project_service","name":"logging_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"logging.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.monitoring_googleapis_com","mode":"managed","type":"google_project_service","name":"monitoring_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"monitoring.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.oslogin_googleapis_com","mode":"managed","type":"google_project_service","name":"oslogin_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"oslogin.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.project_service","mode":"managed","type":"google_project_service","name":"project_service","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"iap.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.pubsub_googleapis_com","mode":"managed","type":"google_project_service","name":"pubsub_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"pubsub.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.pubsublite_googleapis_com","mode":"managed","type":"google_project_service","name":"pubsublite_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"pubsublite.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.run_googleapis_com","mode":"managed","type":"google_project_service","name":"run_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"run.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.secretmanager_googleapis_com","mode":"managed","type":"google_project_service","name":"secretmanager_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"secretmanager.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.servicemanagement_googleapis_com","mode":"managed","type":"google_project_service","name":"servicemanagement_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"servicemanagement.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.serviceusage_googleapis_com","mode":"managed","type":"google_project_service","name":"serviceusage_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"serviceusage.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.sql_component_googleapis_com","mode":"managed","type":"google_project_service","name":"sql_component_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"sql-component.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.storage_api_googleapis_com","mode":"managed","type":"google_project_service","name":"storage_api_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"storage-api.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.storage_component_googleapis_com","mode":"managed","type":"google_project_service","name":"storage_component_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"storage-component.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.storage_googleapis_com","mode":"managed","type":"google_project_service","name":"storage_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"storage.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.vpcaccess_googleapis_com","mode":"managed","type":"google_project_service","name":"vpcaccess_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"vpcaccess.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.workflowexecutions_googleapis_com","mode":"managed","type":"google_project_service","name":"workflowexecutions_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"workflowexecutions.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_project_service.workflows_googleapis_com","mode":"managed","type":"google_project_service","name":"workflows_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"workflows.googleapis.com","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_secret_manager_secret.secret[\"test_key_1\"]","mode":"managed","type":"google_secret_manager_secret","name":"secret","index":"test_key_1","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"annotations":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"labels":{"owner":"team-security","terraformed":"true"},"project":"sentry-cookie-scanner","replication":[{"auto":[{"customer_managed_encryption":[]}],"user_managed":[]}],"rotation":[],"secret_id":"test_key_1","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"topics":[],"ttl":null,"version_aliases":null,"version_destroy_ttl":null},"sensitive_values":{"effective_annotations":{},"effective_labels":{},"labels":{},"replication":[{"auto":[{"customer_managed_encryption":[]}],"user_managed":[]}],"rotation":[],"terraform_labels":{},"topics":[]}},{"address":"module.infrastructure.google_service_account.gha_cloud_functions_deployment[0]","mode":"managed","type":"google_service_account","name":"gha_cloud_functions_deployment","index":0,"provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"gha-cloud-functions-deployment","create_ignore_already_exists":null,"description":"For use by Terraform and GitHub Actions to deploy cloud-functions, owned by team-security, managed by Terraform","disabled":false,"display_name":"gha-cloud-functions-deployment","email":"gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}},{"address":"module.infrastructure.google_storage_bucket.staging_bucket","mode":"managed","type":"google_storage_bucket","name":"staging_bucket","provider_name":"registry.terraform.io/hashicorp/google","schema_version":3,"values":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_object_retention":null,"encryption":[],"force_destroy":true,"hierarchical_namespace":[],"labels":{"owner":"team-security","terraformed":"true"},"lifecycle_rule":[],"location":"US","logging":[],"name":"sentry-cookie-scanner-cloud-function-staging","public_access_prevention":"enforced","requester_pays":null,"retention_policy":[],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"labels":{},"lifecycle_rule":[],"logging":[],"retention_policy":[],"soft_delete_policy":[],"terraform_labels":{},"versioning":[],"website":[]}},{"address":"module.infrastructure.google_storage_bucket.tf-state","mode":"managed","type":"google_storage_bucket","name":"tf-state","provider_name":"registry.terraform.io/hashicorp/google","schema_version":3,"values":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_object_retention":null,"encryption":[],"force_destroy":true,"hierarchical_namespace":[],"labels":{"owner":"team-security","terraformed":"true"},"lifecycle_rule":[],"location":"US","logging":[],"name":"sentry-cookie-scanner-tfstate","public_access_prevention":"enforced","requester_pays":null,"retention_policy":[],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"versioning":[{"enabled":true}]},"sensitive_values":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"labels":{},"lifecycle_rule":[],"logging":[],"retention_policy":[],"soft_delete_policy":[],"terraform_labels":{},"versioning":[{}],"website":[]}},{"address":"module.infrastructure.google_storage_bucket_iam_binding.staging-bucket-iam","mode":"managed","type":"google_storage_bucket_iam_binding","name":"staging-bucket-iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-tfstate","condition":[],"members":["serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com"],"role":"roles/storage.objectUser"},"sensitive_values":{"condition":[],"members":[false]}},{"address":"module.infrastructure.google_storage_bucket_iam_binding.tfstate-bucket-iam","mode":"managed","type":"google_storage_bucket_iam_binding","name":"tfstate-bucket-iam","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-tfstate","condition":[],"members":["serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com"],"role":"roles/storage.objectUser"},"sensitive_values":{"condition":[],"members":[false]}},{"address":"module.infrastructure.google_storage_bucket_iam_member.staging_bucket_get","mode":"managed","type":"google_storage_bucket_iam_member","name":"staging_bucket_get","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-cloud-function-staging","condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/storage.objectViewer"},"sensitive_values":{"condition":[]}},{"address":"module.infrastructure.google_storage_bucket_iam_member.tfstate_bucket_get","mode":"managed","type":"google_storage_bucket_iam_member","name":"tfstate_bucket_get","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"sentry-cookie-scanner-tfstate","condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/storage.objectViewer"},"sensitive_values":{"condition":[]}}],"address":"module.infrastructure"},{"address":"module.pubsubs","child_modules":[{"resources":[{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_project_iam_member.project","mode":"managed","type":"google_project_iam_member","name":"project","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/monitoring.viewer"},"sensitive_values":{"condition":[]}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription.subscription","mode":"managed","type":"google_pubsub_subscription","name":"subscription","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"ack_deadline_seconds":600,"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_exactly_once_delivery":null,"enable_message_ordering":false,"filter":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","name":"example-pubsub-subscription","project":"sentry-cookie-scanner","push_config":[],"retain_acked_messages":false,"retry_policy":[{"minimum_backoff":"10s"}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"topic":"example-pubsub-topic"},"sensitive_values":{"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{},"expiration_policy":[],"labels":{},"push_config":[],"retry_policy":[{}],"terraform_labels":{}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription_iam_member.subscriber","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"subscriber","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.subscriber","subscription":"example-pubsub-subscription"},"sensitive_values":{"condition":[]}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription_iam_member.viewer","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"viewer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.viewer","subscription":"example-pubsub-subscription"},"sensitive_values":{"condition":[]}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_topic.topic","mode":"managed","type":"google_pubsub_topic","name":"topic","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"ingestion_data_source_settings":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","message_storage_policy":[{"allowed_persistence_regions":["us-west1"],"enforce_in_transit":null}],"name":"example-pubsub-topic","project":"sentry-cookie-scanner","schema_settings":[],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"effective_labels":{},"ingestion_data_source_settings":[],"labels":{},"message_storage_policy":[{"allowed_persistence_regions":[false]}],"schema_settings":[],"terraform_labels":{}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_service_account.pubsub_service_account","mode":"managed","type":"google_service_account","name":"pubsub_service_account","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"example-pubsub-sa","create_ignore_already_exists":null,"description":"Service account for example-pubsub-topic, owned by team-security, managed by Terraform","disabled":false,"display_name":"Example PubSub Service Account","email":"example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}}],"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]"},{"resources":[{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_project_iam_member.project","mode":"managed","type":"google_project_iam_member","name":"project","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/monitoring.viewer"},"sensitive_values":{"condition":[]}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription.subscription","mode":"managed","type":"google_pubsub_subscription","name":"subscription","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"ack_deadline_seconds":600,"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_exactly_once_delivery":null,"enable_message_ordering":false,"filter":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","name":"example-pubsub-sink-subscription","project":"sentry-cookie-scanner","push_config":[],"retain_acked_messages":false,"retry_policy":[{"minimum_backoff":"10s"}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"topic":"example-pubsub-sink-topic"},"sensitive_values":{"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{},"expiration_policy":[],"labels":{},"push_config":[],"retry_policy":[{}],"terraform_labels":{}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription_iam_member.subscriber","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"subscriber","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.subscriber","subscription":"example-pubsub-sink-subscription"},"sensitive_values":{"condition":[]}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription_iam_member.viewer","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"viewer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"condition":[],"member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.viewer","subscription":"example-pubsub-sink-subscription"},"sensitive_values":{"condition":[]}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_topic.topic","mode":"managed","type":"google_pubsub_topic","name":"topic","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"ingestion_data_source_settings":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","message_storage_policy":[{"allowed_persistence_regions":["us-west1"],"enforce_in_transit":null}],"name":"example-pubsub-sink-topic","project":"sentry-cookie-scanner","schema_settings":[],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"effective_labels":{},"ingestion_data_source_settings":[],"labels":{},"message_storage_policy":[{"allowed_persistence_regions":[false]}],"schema_settings":[],"terraform_labels":{}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_service_account.pubsub_service_account","mode":"managed","type":"google_service_account","name":"pubsub_service_account","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"account_id":"example-pubsub-sink-sa","create_ignore_already_exists":null,"description":"Service account for example-pubsub-sink-topic, owned by team-security, managed by Terraform","disabled":false,"display_name":"Example PubSub Sink Service Account","email":"example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"sensitive_values":{}}],"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]"},{"resources":[{"address":"module.pubsubs.module.pubsubs_sink[\"example-pubsub-sink\"].google_storage_bucket.pubsub-sink-bucket","mode":"managed","type":"google_storage_bucket","name":"pubsub-sink-bucket","provider_name":"registry.terraform.io/hashicorp/google","schema_version":3,"values":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_object_retention":null,"encryption":[],"force_destroy":true,"hierarchical_namespace":[],"labels":{"owner":"team-security","terraformed":"true"},"lifecycle_rule":[{"action":[{"storage_class":"","type":"Delete"}],"condition":[{"age":30,"created_before":"","custom_time_before":"","days_since_custom_time":null,"days_since_noncurrent_time":null,"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[],"noncurrent_time_before":"","num_newer_versions":null,"send_age_if_zero":null,"send_days_since_custom_time_if_zero":null,"send_days_since_noncurrent_time_if_zero":null,"send_num_newer_versions_if_zero":null}]}],"location":"US-WEST1","logging":[],"name":"example-pubsub-sink","public_access_prevention":"enforced","requester_pays":null,"retention_policy":[],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"sensitive_values":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"labels":{},"lifecycle_rule":[{"action":[{}],"condition":[{"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[]}]}],"logging":[],"retention_policy":[],"soft_delete_policy":[],"terraform_labels":{},"versioning":[],"website":[]}}],"address":"module.pubsubs.module.pubsubs_sink[\"example-pubsub-sink\"]"}]}]}},"resource_changes":[{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/cloudfunctions.developer\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/cloudfunctions.developer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.developer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/iam.serviceAccountCreator\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/iam.serviceAccountCreator","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/iam.serviceAccountCreator"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/iam.serviceAccountUser\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/iam.serviceAccountUser","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/iam.workloadIdentityPoolViewer\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/iam.workloadIdentityPoolViewer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/iam.workloadIdentityPoolViewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/logging.viewer\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/logging.viewer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.viewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/pubsub.admin\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/pubsub.admin","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/pubsub.admin"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/secretmanager.secretAccessor\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/secretmanager.secretAccessor","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/secretmanager.secretAccessor"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/storage.admin\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/storage.admin","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/storage.admin"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_iam_member.project_roles[\"roles/viewer\"]","module_address":"module.infrastructure","mode":"managed","type":"google_project_iam_member","name":"project_roles","index":"roles/viewer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/viewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_project_service.bigquery_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"bigquery_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"bigquery.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.bigquerymigration_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"bigquerymigration_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"bigquerymigration.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.bigquerystorage_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"bigquerystorage_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"bigquerystorage.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudapis_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudapis_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudapis.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudasset_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudasset_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudasset.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudbuild_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudbuild_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudbuild.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudfunctions_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudfunctions_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudfunctions.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudresourcemanager_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudresourcemanager_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudresourcemanager.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudscheduler_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudscheduler_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudscheduler.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.cloudtrace_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"cloudtrace_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"cloudtrace.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.compute_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"compute_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"compute.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.containerregistry_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"containerregistry_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"containerregistry.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.datastore_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"datastore_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"datastore.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.eventarc_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"eventarc_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"eventarc.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.firebaserules_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"firebaserules_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"firebaserules.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.firestore_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"firestore_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"firestore.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.firestorekeyvisualizer_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"firestorekeyvisualizer_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"firestorekeyvisualizer.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.iam_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"iam_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"iam.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.iamcredentials_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"iamcredentials_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"iamcredentials.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.logging_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"logging_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"logging.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.monitoring_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"monitoring_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"monitoring.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.oslogin_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"oslogin_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"oslogin.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.project_service","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"project_service","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"iap.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.pubsub_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"pubsub_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"pubsub.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.pubsublite_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"pubsublite_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"pubsublite.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.run_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"run_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"run.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.secretmanager_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"secretmanager_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"secretmanager.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.servicemanagement_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"servicemanagement_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"servicemanagement.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.serviceusage_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"serviceusage_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"serviceusage.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.sql_component_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"sql_component_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"sql-component.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.storage_api_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"storage_api_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"storage-api.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.storage_component_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"storage_component_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"storage-component.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.storage_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"storage_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"storage.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.vpcaccess_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"vpcaccess_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"vpcaccess.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.workflowexecutions_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"workflowexecutions_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"workflowexecutions.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_project_service.workflows_googleapis_com","module_address":"module.infrastructure","mode":"managed","type":"google_project_service","name":"workflows_googleapis_com","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"disable_dependent_services":null,"disable_on_destroy":true,"project":"sentry-cookie-scanner","service":"workflows.googleapis.com","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_secret_manager_secret.secret[\"test_key_1\"]","module_address":"module.infrastructure","mode":"managed","type":"google_secret_manager_secret","name":"secret","index":"test_key_1","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"annotations":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"labels":{"owner":"team-security","terraformed":"true"},"project":"sentry-cookie-scanner","replication":[{"auto":[{"customer_managed_encryption":[]}],"user_managed":[]}],"rotation":[],"secret_id":"test_key_1","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"topics":[],"ttl":null,"version_aliases":null,"version_destroy_ttl":null},"after_unknown":{"create_time":true,"effective_annotations":true,"effective_labels":{},"expire_time":true,"id":true,"labels":{},"name":true,"replication":[{"auto":[{"customer_managed_encryption":[]}],"user_managed":[]}],"rotation":[],"terraform_labels":{},"topics":[]},"before_sensitive":false,"after_sensitive":{"effective_annotations":{},"effective_labels":{},"labels":{},"replication":[{"auto":[{"customer_managed_encryption":[]}],"user_managed":[]}],"rotation":[],"terraform_labels":{},"topics":[]}}},{"address":"module.infrastructure.google_service_account.gha_cloud_functions_deployment[0]","module_address":"module.infrastructure","mode":"managed","type":"google_service_account","name":"gha_cloud_functions_deployment","index":0,"provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"gha-cloud-functions-deployment","create_ignore_already_exists":null,"description":"For use by Terraform and GitHub Actions to deploy cloud-functions, owned by team-security, managed by Terraform","disabled":false,"display_name":"gha-cloud-functions-deployment","email":"gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.infrastructure.google_storage_bucket.staging_bucket","module_address":"module.infrastructure","mode":"managed","type":"google_storage_bucket","name":"staging_bucket","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_object_retention":null,"encryption":[],"force_destroy":true,"hierarchical_namespace":[],"labels":{"owner":"team-security","terraformed":"true"},"lifecycle_rule":[],"location":"US","logging":[],"name":"sentry-cookie-scanner-cloud-function-staging","public_access_prevention":"enforced","requester_pays":null,"retention_policy":[],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"id":true,"labels":{},"lifecycle_rule":[],"logging":[],"project":true,"project_number":true,"retention_policy":[],"rpo":true,"self_link":true,"soft_delete_policy":true,"terraform_labels":{},"uniform_bucket_level_access":true,"url":true,"versioning":true,"website":true},"before_sensitive":false,"after_sensitive":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"labels":{},"lifecycle_rule":[],"logging":[],"retention_policy":[],"soft_delete_policy":[],"terraform_labels":{},"versioning":[],"website":[]}}},{"address":"module.infrastructure.google_storage_bucket.tf-state","module_address":"module.infrastructure","mode":"managed","type":"google_storage_bucket","name":"tf-state","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_object_retention":null,"encryption":[],"force_destroy":true,"hierarchical_namespace":[],"labels":{"owner":"team-security","terraformed":"true"},"lifecycle_rule":[],"location":"US","logging":[],"name":"sentry-cookie-scanner-tfstate","public_access_prevention":"enforced","requester_pays":null,"retention_policy":[],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"versioning":[{"enabled":true}]},"after_unknown":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"id":true,"labels":{},"lifecycle_rule":[],"logging":[],"project":true,"project_number":true,"retention_policy":[],"rpo":true,"self_link":true,"soft_delete_policy":true,"terraform_labels":{},"uniform_bucket_level_access":true,"url":true,"versioning":[{}],"website":true},"before_sensitive":false,"after_sensitive":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"labels":{},"lifecycle_rule":[],"logging":[],"retention_policy":[],"soft_delete_policy":[],"terraform_labels":{},"versioning":[{}],"website":[]}}},{"address":"module.infrastructure.google_storage_bucket_iam_binding.staging-bucket-iam","module_address":"module.infrastructure","mode":"managed","type":"google_storage_bucket_iam_binding","name":"staging-bucket-iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-tfstate","condition":[],"members":["serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com"],"role":"roles/storage.objectUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"members":[false]},"before_sensitive":false,"after_sensitive":{"condition":[],"members":[false]}}},{"address":"module.infrastructure.google_storage_bucket_iam_binding.tfstate-bucket-iam","module_address":"module.infrastructure","mode":"managed","type":"google_storage_bucket_iam_binding","name":"tfstate-bucket-iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-tfstate","condition":[],"members":["serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com"],"role":"roles/storage.objectUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"members":[false]},"before_sensitive":false,"after_sensitive":{"condition":[],"members":[false]}}},{"address":"module.infrastructure.google_storage_bucket_iam_member.staging_bucket_get","module_address":"module.infrastructure","mode":"managed","type":"google_storage_bucket_iam_member","name":"staging_bucket_get","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-cloud-function-staging","condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/storage.objectViewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.infrastructure.google_storage_bucket_iam_member.tfstate_bucket_get","module_address":"module.infrastructure","mode":"managed","type":"google_storage_bucket_iam_member","name":"tfstate_bucket_get","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-tfstate","condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/storage.objectViewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].data.archive_file.source","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"data","type":"archive_file","name":"source","provider_name":"registry.terraform.io/hashicorp/archive","change":{"actions":["read"],"before":null,"after":{"exclude_symlink_directories":null,"excludes":["main.tf","terraform.yaml"],"output_file_mode":null,"output_path":"/tmp/cookie-scanner.zip","source":[],"source_content":null,"source_content_filename":null,"source_dir":"functions/cookie-scanner","source_file":null,"type":"zip"},"after_unknown":{"excludes":[false,false],"id":true,"output_base64sha256":true,"output_base64sha512":true,"output_md5":true,"output_sha":true,"output_sha256":true,"output_sha512":true,"output_size":true,"source":[]},"before_sensitive":false,"after_sensitive":{"excludes":[false,false],"source":[]}},"action_reason":"read_because_dependency_pending"},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function.function","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"build_config":[{"docker_repository":"projects/sentry-cookie-scanner/locations/us-west1/repositories/gcf-artifacts","entry_point":"main","on_deploy_update_policy":[],"runtime":"nodejs20","source":[{"repo_source":[],"storage_source":[{"bucket":"sentry-cookie-scanner-cloud-function-staging"}]}],"worker_pool":null}],"description":"cookie scanner based on the blacklight-collector","effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"event_trigger":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"location":"us-west1","name":"cookie-scanner","project":"sentry-cookie-scanner","service_config":[{"all_traffic_on_latest_revision":true,"available_memory":"8G","ingress_settings":"ALLOW_ALL","min_instance_count":null,"secret_environment_variables":[],"secret_volumes":[],"service_account_email":"cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","timeout_seconds":60,"vpc_connector":null,"vpc_connector_egress_settings":null}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"build_config":[{"automatic_update_policy":true,"build":true,"environment_variables":true,"on_deploy_update_policy":[],"service_account":true,"source":[{"repo_source":[],"storage_source":[{"generation":true,"object":true}]}]}],"effective_labels":{},"environment":true,"event_trigger":[],"id":true,"labels":{},"service_config":[{"available_cpu":true,"environment_variables":true,"gcf_uri":true,"max_instance_count":true,"max_instance_request_concurrency":true,"secret_environment_variables":[],"secret_volumes":[],"service":true,"uri":true}],"state":true,"terraform_labels":{},"update_time":true,"url":true},"before_sensitive":false,"after_sensitive":{"build_config":[{"automatic_update_policy":[],"environment_variables":{},"on_deploy_update_policy":[],"source":[{"repo_source":[],"storage_source":[{}]}]}],"effective_labels":{},"event_trigger":[],"labels":{},"service_config":[{"environment_variables":{},"secret_environment_variables":[],"secret_volumes":[]}],"terraform_labels":{}}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function_iam_member.invoker_iam","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"cloud_function":"cookie-scanner","condition":[],"location":"us-west1","member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_project_iam_member.function_sa_logwriter_iam","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.logWriter"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account.function_sa","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_service_account","name":"function_sa","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"cf-cookie-scanner","create_ignore_already_exists":null,"description":"Service account for cookie-scanner, owned by team-security, managed by Terraform","disabled":false,"display_name":"Cloud Function Service Account for cookie-scanner","email":"cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account_iam_member.deploy_sa_actas_iam","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account_iam_member.function_sa_actas_iam","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-cookie-scanner@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_storage_bucket_object.zip","module_address":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"]","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-cloud-function-staging","cache_control":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"application/zip","customer_encryption":[],"detect_md5hash":"different hash","event_based_hold":null,"metadata":{"owner":"team-security","terraformed":"true"},"retention":[],"source":"/tmp/cookie-scanner.zip","temporary_hold":null,"timeouts":null},"after_unknown":{"content":true,"crc32c":true,"customer_encryption":[],"generation":true,"id":true,"kms_key_name":true,"md5hash":true,"media_link":true,"metadata":{},"name":true,"output_name":true,"retention":[],"self_link":true,"storage_class":true},"before_sensitive":false,"after_sensitive":{"content":true,"customer_encryption":[],"metadata":{},"retention":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].data.archive_file.source","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"data","type":"archive_file","name":"source","provider_name":"registry.terraform.io/hashicorp/archive","change":{"actions":["read"],"before":null,"after":{"exclude_symlink_directories":null,"excludes":["main.tf","terraform.yaml"],"output_file_mode":null,"output_path":"/tmp/example-gen2-cron.zip","source":[],"source_content":null,"source_content_filename":null,"source_dir":"functions/example-gen2-cron","source_file":null,"type":"zip"},"after_unknown":{"excludes":[false,false],"id":true,"output_base64sha256":true,"output_base64sha512":true,"output_md5":true,"output_sha":true,"output_sha256":true,"output_sha512":true,"output_size":true,"source":[]},"before_sensitive":false,"after_sensitive":{"excludes":[false,false],"source":[]}},"action_reason":"read_because_dependency_pending"},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function.function","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"build_config":[{"docker_repository":"projects/sentry-cookie-scanner/locations/us-west1/repositories/gcf-artifacts","entry_point":"main","on_deploy_update_policy":[],"runtime":"python311","source":[{"repo_source":[],"storage_source":[{"bucket":"sentry-cookie-scanner-cloud-function-staging"}]}],"worker_pool":null}],"description":"gen2 cloud function example","effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"event_trigger":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"location":"us-west1","name":"example-gen2-cron","project":"sentry-cookie-scanner","service_config":[{"all_traffic_on_latest_revision":true,"available_memory":"256M","environment_variables":{"ENV_1":"sentry-cookie-scanner","ENV_2":"345"},"ingress_settings":"ALLOW_ALL","min_instance_count":null,"secret_environment_variables":[{"key":"test_key_1","project_id":"sentry-cookie-scanner","secret":"test_key_1","version":"latest"}],"secret_volumes":[],"service_account_email":"cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","timeout_seconds":60,"vpc_connector":null,"vpc_connector_egress_settings":null}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"build_config":[{"automatic_update_policy":true,"build":true,"environment_variables":true,"on_deploy_update_policy":[],"service_account":true,"source":[{"repo_source":[],"storage_source":[{"generation":true,"object":true}]}]}],"effective_labels":{},"environment":true,"event_trigger":[],"id":true,"labels":{},"service_config":[{"available_cpu":true,"environment_variables":{},"gcf_uri":true,"max_instance_count":true,"max_instance_request_concurrency":true,"secret_environment_variables":[{}],"secret_volumes":[],"service":true,"uri":true}],"state":true,"terraform_labels":{},"update_time":true,"url":true},"before_sensitive":false,"after_sensitive":{"build_config":[{"automatic_update_policy":[],"environment_variables":{},"on_deploy_update_policy":[],"source":[{"repo_source":[],"storage_source":[{}]}]}],"effective_labels":{},"event_trigger":[],"labels":{},"service_config":[{"environment_variables":{},"secret_environment_variables":[{}],"secret_volumes":[]}],"terraform_labels":{}}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function_iam_member.invoker_iam","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"cloud_function":"example-gen2-cron","condition":[],"location":"us-west1","member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_project_iam_member.function_sa_logwriter_iam","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.logWriter"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_secret_manager_secret_iam_member.secret_iam[\"test_key_1\"]","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_secret_manager_secret_iam_member","name":"secret_iam","index":"test_key_1","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/secretmanager.secretAccessor","secret_id":"test_key_1"},"after_unknown":{"condition":[],"etag":true,"id":true,"project":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account.function_sa","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_service_account","name":"function_sa","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"cf-example-gen2-cron","create_ignore_already_exists":null,"description":"Service account for example-gen2-cron, owned by team-security, managed by Terraform","disabled":false,"display_name":"Cloud Function Service Account for example-gen2-cron","email":"cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account_iam_member.deploy_sa_actas_iam","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account_iam_member.function_sa_actas_iam","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_storage_bucket_object.zip","module_address":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-cloud-function-staging","cache_control":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"application/zip","customer_encryption":[],"detect_md5hash":"different hash","event_based_hold":null,"metadata":{"owner":"team-security","terraformed":"true"},"retention":[],"source":"/tmp/example-gen2-cron.zip","temporary_hold":null,"timeouts":null},"after_unknown":{"content":true,"crc32c":true,"customer_encryption":[],"generation":true,"id":true,"kms_key_name":true,"md5hash":true,"media_link":true,"metadata":{},"name":true,"output_name":true,"retention":[],"self_link":true,"storage_class":true},"before_sensitive":false,"after_sensitive":{"content":true,"customer_encryption":[],"metadata":{},"retention":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].data.archive_file.source","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"data","type":"archive_file","name":"source","provider_name":"registry.terraform.io/hashicorp/archive","change":{"actions":["read"],"before":null,"after":{"exclude_symlink_directories":null,"excludes":["main.tf","terraform.yaml"],"output_file_mode":null,"output_path":"/tmp/sitemap-collector.zip","source":[],"source_content":null,"source_content_filename":null,"source_dir":"functions/sitemap-collector","source_file":null,"type":"zip"},"after_unknown":{"excludes":[false,false],"id":true,"output_base64sha256":true,"output_base64sha512":true,"output_md5":true,"output_sha":true,"output_sha256":true,"output_sha512":true,"output_size":true,"source":[]},"before_sensitive":false,"after_sensitive":{"excludes":[false,false],"source":[]}},"action_reason":"read_because_dependency_pending"},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function.function","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"build_config":[{"docker_repository":"projects/sentry-cookie-scanner/locations/us-west1/repositories/gcf-artifacts","entry_point":"main","on_deploy_update_policy":[],"runtime":"python311","source":[{"repo_source":[],"storage_source":[{"bucket":"sentry-cookie-scanner-cloud-function-staging"}]}],"worker_pool":null}],"description":"collect all the pages in the sitemaps provided and save them to pub/sub","effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"event_trigger":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"location":"us-west1","name":"sitemap-collector","project":"sentry-cookie-scanner","service_config":[{"all_traffic_on_latest_revision":true,"available_memory":"256M","ingress_settings":"ALLOW_ALL","min_instance_count":null,"secret_environment_variables":[],"secret_volumes":[],"service_account_email":"cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","timeout_seconds":60,"vpc_connector":null,"vpc_connector_egress_settings":null}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"build_config":[{"automatic_update_policy":true,"build":true,"environment_variables":true,"on_deploy_update_policy":[],"service_account":true,"source":[{"repo_source":[],"storage_source":[{"generation":true,"object":true}]}]}],"effective_labels":{},"environment":true,"event_trigger":[],"id":true,"labels":{},"service_config":[{"available_cpu":true,"environment_variables":true,"gcf_uri":true,"max_instance_count":true,"max_instance_request_concurrency":true,"secret_environment_variables":[],"secret_volumes":[],"service":true,"uri":true}],"state":true,"terraform_labels":{},"update_time":true,"url":true},"before_sensitive":false,"after_sensitive":{"build_config":[{"automatic_update_policy":[],"environment_variables":{},"on_deploy_update_policy":[],"source":[{"repo_source":[],"storage_source":[{}]}]}],"effective_labels":{},"event_trigger":[],"labels":{},"service_config":[{"environment_variables":{},"secret_environment_variables":[],"secret_volumes":[]}],"terraform_labels":{}}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function_iam_member.invoker_iam","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"cloud_function":"sitemap-collector","condition":[],"location":"us-west1","member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_project_iam_member.function_sa_logwriter_iam","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/logging.logWriter"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account.function_sa","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_service_account","name":"function_sa","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"cf-sitemap-collector","create_ignore_already_exists":null,"description":"Service account for sitemap-collector, owned by team-security, managed by Terraform","disabled":false,"display_name":"Cloud Function Service Account for sitemap-collector","email":"cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account_iam_member.deploy_sa_actas_iam","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account_iam_member.function_sa_actas_iam","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:cf-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_storage_bucket_object.zip","module_address":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"]","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"sentry-cookie-scanner-cloud-function-staging","cache_control":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"application/zip","customer_encryption":[],"detect_md5hash":"different hash","event_based_hold":null,"metadata":{"owner":"team-security","terraformed":"true"},"retention":[],"source":"/tmp/sitemap-collector.zip","temporary_hold":null,"timeouts":null},"after_unknown":{"content":true,"crc32c":true,"customer_encryption":[],"generation":true,"id":true,"kms_key_name":true,"md5hash":true,"media_link":true,"metadata":{},"name":true,"output_name":true,"retention":[],"self_link":true,"storage_class":true},"before_sensitive":false,"after_sensitive":{"content":true,"customer_encryption":[],"metadata":{},"retention":[]}}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_cloud_run_service_iam_member.cj_gen2_cron_invoker","module_address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_cloud_run_service_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"location":"us-west1","member":"serviceAccount:cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/run.invoker","service":"example-gen2-cron"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_cloud_scheduler_job.cron_scheduler","module_address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_cloud_scheduler_job","name":"cron_scheduler","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"app_engine_http_target":[],"attempt_deadline":"320s","description":"gen2 cloud function example","http_target":[{"body":null,"headers":null,"http_method":"GET","oauth_token":[],"oidc_token":[{"service_account_email":"cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com"}]}],"name":"example-gen2-cron","project":"sentry-cookie-scanner","pubsub_target":[],"region":"us-west1","retry_config":[],"schedule":"0 * * * *","time_zone":"America/New_York","timeouts":null},"after_unknown":{"app_engine_http_target":[],"http_target":[{"oauth_token":[],"oidc_token":[{"audience":true}],"uri":true}],"id":true,"paused":true,"pubsub_target":[],"retry_config":[],"state":true},"before_sensitive":false,"after_sensitive":{"app_engine_http_target":[],"http_target":[{"oauth_token":[],"oidc_token":[{}]}],"pubsub_target":[],"retry_config":[]}}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_cloudfunctions2_function_iam_member.cj_gen2_cron_invoker","module_address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"cloud_function":"example-gen2-cron","condition":[],"location":"us-west1","member":"serviceAccount:cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_service_account.cronjob_sa","module_address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_service_account","name":"cronjob_sa","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"cj-example-gen2-cron","create_ignore_already_exists":null,"description":"Service account for example-gen2-cron, owned by team-security, managed by Terraform","disabled":false,"display_name":"CronJob Service Account for example-gen2-cron","email":"cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cj-example-gen2-cron@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_service_account_iam_member.deploy_sa_actas_iam","module_address":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"]","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_cloud_run_service_iam_member.cj_gen2_cron_invoker","module_address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"]","mode":"managed","type":"google_cloud_run_service_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"location":"us-west1","member":"serviceAccount:cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/run.invoker","service":"sitemap-collector"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_cloud_scheduler_job.cron_scheduler","module_address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"]","mode":"managed","type":"google_cloud_scheduler_job","name":"cron_scheduler","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"app_engine_http_target":[],"attempt_deadline":"320s","description":"collect all the pages in the sitemaps provided and save them to pub/sub","http_target":[{"body":null,"headers":null,"http_method":"GET","oauth_token":[],"oidc_token":[{"service_account_email":"cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com"}]}],"name":"sitemap-collector","project":"sentry-cookie-scanner","pubsub_target":[],"region":"us-west1","retry_config":[],"schedule":"0 * * * *","time_zone":"America/New_York","timeouts":null},"after_unknown":{"app_engine_http_target":[],"http_target":[{"oauth_token":[],"oidc_token":[{"audience":true}],"uri":true}],"id":true,"paused":true,"pubsub_target":[],"retry_config":[],"state":true},"before_sensitive":false,"after_sensitive":{"app_engine_http_target":[],"http_target":[{"oauth_token":[],"oidc_token":[{}]}],"pubsub_target":[],"retry_config":[]}}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_cloudfunctions2_function_iam_member.cj_gen2_cron_invoker","module_address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"]","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"cj_gen2_cron_invoker","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"cloud_function":"sitemap-collector","condition":[],"location":"us-west1","member":"serviceAccount:cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/cloudfunctions.invoker"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_service_account.cronjob_sa","module_address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"]","mode":"managed","type":"google_service_account","name":"cronjob_sa","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"cj-sitemap-collector","create_ignore_already_exists":null,"description":"Service account for sitemap-collector, owned by team-security, managed by Terraform","disabled":false,"display_name":"CronJob Service Account for sitemap-collector","email":"cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:cj-sitemap-collector@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_service_account_iam_member.deploy_sa_actas_iam","module_address":"module.functions.module.cronjob-gen2[\"sitemap-collector\"]","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:gha-cloud-functions-deployment@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/iam.serviceAccountUser"},"after_unknown":{"condition":[],"etag":true,"id":true,"service_account_id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_project_iam_member.project","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]","mode":"managed","type":"google_project_iam_member","name":"project","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/monitoring.viewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription.subscription","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]","mode":"managed","type":"google_pubsub_subscription","name":"subscription","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"ack_deadline_seconds":600,"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_exactly_once_delivery":null,"enable_message_ordering":false,"filter":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","name":"example-pubsub-subscription","project":"sentry-cookie-scanner","push_config":[],"retain_acked_messages":false,"retry_policy":[{"minimum_backoff":"10s"}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"topic":"example-pubsub-topic"},"after_unknown":{"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{},"expiration_policy":true,"id":true,"labels":{},"push_config":[],"retry_policy":[{"maximum_backoff":true}],"terraform_labels":{}},"before_sensitive":false,"after_sensitive":{"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{},"expiration_policy":[],"labels":{},"push_config":[],"retry_policy":[{}],"terraform_labels":{}}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription_iam_member.subscriber","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"subscriber","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.subscriber","subscription":"example-pubsub-subscription"},"after_unknown":{"condition":[],"etag":true,"id":true,"project":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription_iam_member.viewer","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"viewer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.viewer","subscription":"example-pubsub-subscription"},"after_unknown":{"condition":[],"etag":true,"id":true,"project":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_topic.topic","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]","mode":"managed","type":"google_pubsub_topic","name":"topic","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"ingestion_data_source_settings":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","message_storage_policy":[{"allowed_persistence_regions":["us-west1"],"enforce_in_transit":null}],"name":"example-pubsub-topic","project":"sentry-cookie-scanner","schema_settings":[],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"effective_labels":{},"id":true,"ingestion_data_source_settings":[],"labels":{},"message_storage_policy":[{"allowed_persistence_regions":[false]}],"schema_settings":[],"terraform_labels":{}},"before_sensitive":false,"after_sensitive":{"effective_labels":{},"ingestion_data_source_settings":[],"labels":{},"message_storage_policy":[{"allowed_persistence_regions":[false]}],"schema_settings":[],"terraform_labels":{}}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_service_account.pubsub_service_account","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub\"]","mode":"managed","type":"google_service_account","name":"pubsub_service_account","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"example-pubsub-sa","create_ignore_already_exists":null,"description":"Service account for example-pubsub-topic, owned by team-security, managed by Terraform","disabled":false,"display_name":"Example PubSub Service Account","email":"example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:example-pubsub-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_project_iam_member.project","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]","mode":"managed","type":"google_project_iam_member","name":"project","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","role":"roles/monitoring.viewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription.subscription","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]","mode":"managed","type":"google_pubsub_subscription","name":"subscription","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"ack_deadline_seconds":600,"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_exactly_once_delivery":null,"enable_message_ordering":false,"filter":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","name":"example-pubsub-sink-subscription","project":"sentry-cookie-scanner","push_config":[],"retain_acked_messages":false,"retry_policy":[{"minimum_backoff":"10s"}],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null,"topic":"example-pubsub-sink-topic"},"after_unknown":{"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{},"expiration_policy":true,"id":true,"labels":{},"push_config":[],"retry_policy":[{"maximum_backoff":true}],"terraform_labels":{}},"before_sensitive":false,"after_sensitive":{"bigquery_config":[],"cloud_storage_config":[],"dead_letter_policy":[],"effective_labels":{},"expiration_policy":[],"labels":{},"push_config":[],"retry_policy":[{}],"terraform_labels":{}}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription_iam_member.subscriber","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"subscriber","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.subscriber","subscription":"example-pubsub-sink-subscription"},"after_unknown":{"condition":[],"etag":true,"id":true,"project":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription_iam_member.viewer","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"viewer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"condition":[],"member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","role":"roles/pubsub.viewer","subscription":"example-pubsub-sink-subscription"},"after_unknown":{"condition":[],"etag":true,"id":true,"project":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_topic.topic","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]","mode":"managed","type":"google_pubsub_topic","name":"topic","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"ingestion_data_source_settings":[],"kms_key_name":null,"labels":{"owner":"team-security","terraformed":"true"},"message_retention_duration":"604800s","message_storage_policy":[{"allowed_persistence_regions":["us-west1"],"enforce_in_transit":null}],"name":"example-pubsub-sink-topic","project":"sentry-cookie-scanner","schema_settings":[],"terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"effective_labels":{},"id":true,"ingestion_data_source_settings":[],"labels":{},"message_storage_policy":[{"allowed_persistence_regions":[false]}],"schema_settings":[],"terraform_labels":{}},"before_sensitive":false,"after_sensitive":{"effective_labels":{},"ingestion_data_source_settings":[],"labels":{},"message_storage_policy":[{"allowed_persistence_regions":[false]}],"schema_settings":[],"terraform_labels":{}}}},{"address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_service_account.pubsub_service_account","module_address":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"]","mode":"managed","type":"google_service_account","name":"pubsub_service_account","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"account_id":"example-pubsub-sink-sa","create_ignore_already_exists":null,"description":"Service account for example-pubsub-sink-topic, owned by team-security, managed by Terraform","disabled":false,"display_name":"Example PubSub Sink Service Account","email":"example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","member":"serviceAccount:example-pubsub-sink-sa@sentry-cookie-scanner.iam.gserviceaccount.com","project":"sentry-cookie-scanner","timeouts":null},"after_unknown":{"id":true,"name":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.pubsubs.module.pubsubs_sink[\"example-pubsub-sink\"].google_storage_bucket.pubsub-sink-bucket","module_address":"module.pubsubs.module.pubsubs_sink[\"example-pubsub-sink\"]","mode":"managed","type":"google_storage_bucket","name":"pubsub-sink-bucket","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":null,"effective_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"enable_object_retention":null,"encryption":[],"force_destroy":true,"hierarchical_namespace":[],"labels":{"owner":"team-security","terraformed":"true"},"lifecycle_rule":[{"action":[{"storage_class":"","type":"Delete"}],"condition":[{"age":30,"created_before":"","custom_time_before":"","days_since_custom_time":null,"days_since_noncurrent_time":null,"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[],"noncurrent_time_before":"","num_newer_versions":null,"send_age_if_zero":null,"send_days_since_custom_time_if_zero":null,"send_days_since_noncurrent_time_if_zero":null,"send_num_newer_versions_if_zero":null}]}],"location":"US-WEST1","logging":[],"name":"example-pubsub-sink","public_access_prevention":"enforced","requester_pays":null,"retention_policy":[],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true","owner":"team-security","terraformed":"true"},"timeouts":null},"after_unknown":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"id":true,"labels":{},"lifecycle_rule":[{"action":[{}],"condition":[{"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[],"with_state":true}]}],"logging":[],"project":true,"project_number":true,"retention_policy":[],"rpo":true,"self_link":true,"soft_delete_policy":true,"terraform_labels":{},"uniform_bucket_level_access":true,"url":true,"versioning":true,"website":true},"before_sensitive":false,"after_sensitive":{"autoclass":[],"cors":[],"custom_placement_config":[],"effective_labels":{},"encryption":[],"hierarchical_namespace":[],"labels":{},"lifecycle_rule":[{"action":[{}],"condition":[{"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[]}]}],"logging":[],"retention_policy":[],"soft_delete_policy":[],"terraform_labels":{},"versioning":[],"website":[]}}}],"configuration":{"provider_config":{"google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","version_constraint":"~\u003e 6.20.0","expressions":{"project":{"references":["var.project"]},"region":{"references":["var.region"]},"zone":{"references":["var.zone"]}}},"module.functions.module.cloud_function_gen2:archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","module_address":"module.functions.module.cloud_function_gen2"},"module.functions.module.cloud_function_gen2:google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","module_address":"module.functions.module.cloud_function_gen2"},"module.functions.module.cronjob-gen2:google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","module_address":"module.functions.module.cronjob-gen2"},"module.pubsubs.module.pubsubs:google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","module_address":"module.pubsubs.module.pubsubs"},"module.pubsubs.module.pubsubs_sink:google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","module_address":"module.pubsubs.module.pubsubs_sink"}},"root_module":{"module_calls":{"functions":{"source":"./functions","expressions":{"deploy_sa_email":{"references":["var.deploy_sa_email","var.deploy_sa_email","module.infrastructure.deploy_sa_email","module.infrastructure"]},"local_variables":{"references":["local.local_variables"]},"owner":{"references":["var.owner"]},"project":{"references":["var.project"]},"project_id":{"references":["var.project_id"]},"region":{"references":["var.region"]},"secret_ids":{"references":["module.infrastructure.secret_ids","module.infrastructure"]}},"module":{"module_calls":{"cloud_function_gen2":{"source":"../modules/cloud-function-gen2","expressions":{"allow_unauthenticated":{"references":["each.value.cloud-function-gen2","each.value"]},"available_memory":{"references":["each.value.cloud-function-gen2","each.value"]},"deploy_sa_email":{"references":["var.deploy_sa_email"]},"description":{"references":["each.value"]},"environment_variables":{"references":["each.value.cloud-function-gen2","each.value","var.local_variables"]},"execution_timeout":{"references":["each.value.cloud-function-gen2","each.value"]},"function_entrypoint":{"references":["each.value.cloud-function-gen2","each.value"]},"ingress_settings":{"references":["each.value.cloud-function-gen2","each.value"]},"name":{"references":["each.value.name","each.value"]},"owner":{"references":["var.owner"]},"project":{"references":["var.project"]},"runtime":{"references":["each.value.cloud-function-gen2","each.value"]},"secret_environment_variables":{"references":["each.value.cloud-function-gen2","each.value"]},"secret_ids":{"references":["var.secret_ids"]},"source_dir":{"references":["path.module","each.value.name","each.value"]}},"for_each_expression":{"references":["local.terraform_configs"]},"module":{"outputs":{"function_name":{"expression":{"references":["google_cloudfunctions2_function.function.name","google_cloudfunctions2_function.function"]}},"function_project":{"expression":{"references":["google_cloudfunctions2_function.function.project","google_cloudfunctions2_function.function"]}},"function_region":{"expression":{"references":["google_cloudfunctions2_function.function.location","google_cloudfunctions2_function.function"]}},"function_trigger_url":{"expression":{"references":["google_cloudfunctions2_function.function.url","google_cloudfunctions2_function.function"]}}},"resources":[{"address":"google_cloud_run_service_iam_member.invoker_allusers_iam","mode":"managed","type":"google_cloud_run_service_iam_member","name":"invoker_allusers_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"location":{"references":["google_cloudfunctions2_function.function.location","google_cloudfunctions2_function.function"]},"member":{"constant_value":"allUsers"},"project":{"references":["google_cloudfunctions2_function.function.project","google_cloudfunctions2_function.function"]},"role":{"constant_value":"roles/run.invoker"},"service":{"references":["google_cloudfunctions2_function.function.name","google_cloudfunctions2_function.function"]}},"schema_version":0,"count_expression":{"references":["var.allow_unauthenticated"]}},{"address":"google_cloudfunctions2_function.function","mode":"managed","type":"google_cloudfunctions2_function","name":"function","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"build_config":[{"docker_repository":{"references":["var.project","var.location"]},"entry_point":{"references":["var.function_entrypoint"]},"runtime":{"references":["var.runtime"]},"source":[{"storage_source":[{"bucket":{"references":["var.project"]},"object":{"references":["google_storage_bucket_object.zip.name","google_storage_bucket_object.zip"]}}]}]}],"description":{"references":["var.description"]},"labels":{"references":["var.owner"]},"location":{"references":["var.location"]},"name":{"references":["var.name"]},"service_config":[{"available_memory":{"references":["var.available_memory"]},"environment_variables":{"references":["var.environment_variables"]},"ingress_settings":{"references":["var.ingress_settings"]},"service_account_email":{"references":["google_service_account.function_sa.email","google_service_account.function_sa"]},"timeout_seconds":{"references":["var.execution_timeout"]}}]},"schema_version":0,"depends_on":["google_secret_manager_secret_iam_member.secret_iam","google_service_account_iam_member.function_sa_actas_iam","google_service_account_iam_member.deploy_sa_actas_iam","data.archive_file.source"]},{"address":"google_cloudfunctions2_function_iam_member.invoker_allusers_iam","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_allusers_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"cloud_function":{"references":["google_cloudfunctions2_function.function.name","google_cloudfunctions2_function.function"]},"location":{"references":["google_cloudfunctions2_function.function.location","google_cloudfunctions2_function.function"]},"member":{"constant_value":"allUsers"},"project":{"references":["google_cloudfunctions2_function.function.project","google_cloudfunctions2_function.function"]},"role":{"constant_value":"roles/cloudfunctions.invoker"}},"schema_version":0,"count_expression":{"references":["var.allow_unauthenticated"]}},{"address":"google_cloudfunctions2_function_iam_member.invoker_iam","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"invoker_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"cloud_function":{"references":["google_cloudfunctions2_function.function.name","google_cloudfunctions2_function.function"]},"location":{"references":["google_cloudfunctions2_function.function.location","google_cloudfunctions2_function.function"]},"member":{"references":["google_service_account.function_sa.email","google_service_account.function_sa"]},"project":{"references":["google_cloudfunctions2_function.function.project","google_cloudfunctions2_function.function"]},"role":{"constant_value":"roles/cloudfunctions.invoker"}},"schema_version":0},{"address":"google_project_iam_member.function_sa_logwriter_iam","mode":"managed","type":"google_project_iam_member","name":"function_sa_logwriter_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"member":{"references":["google_service_account.function_sa.email","google_service_account.function_sa"]},"project":{"references":["var.project"]},"role":{"constant_value":"roles/logging.logWriter"}},"schema_version":0},{"address":"google_secret_manager_secret_iam_member.secret_iam","mode":"managed","type":"google_secret_manager_secret_iam_member","name":"secret_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"member":{"references":["google_service_account.function_sa.email","google_service_account.function_sa"]},"role":{"constant_value":"roles/secretmanager.secretAccessor"},"secret_id":{"references":["each.value.secret","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.secret_environment_variables"]}},{"address":"google_service_account.function_sa","mode":"managed","type":"google_service_account","name":"function_sa","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"account_id":{"references":["var.name"]},"description":{"references":["var.name","var.owner"]},"display_name":{"references":["var.name"]}},"schema_version":0},{"address":"google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"member":{"references":["var.deploy_sa_email"]},"role":{"constant_value":"roles/iam.serviceAccountUser"},"service_account_id":{"references":["google_service_account.function_sa.name","google_service_account.function_sa"]}},"schema_version":0},{"address":"google_service_account_iam_member.function_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"function_sa_actas_iam","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"member":{"references":["google_service_account.function_sa.email","google_service_account.function_sa"]},"role":{"constant_value":"roles/iam.serviceAccountUser"},"service_account_id":{"references":["google_service_account.function_sa.name","google_service_account.function_sa"]}},"schema_version":0},{"address":"google_storage_bucket_object.zip","mode":"managed","type":"google_storage_bucket_object","name":"zip","provider_config_key":"module.functions.module.cloud_function_gen2:google","expressions":{"bucket":{"references":["var.project"]},"content_type":{"constant_value":"application/zip"},"metadata":{"references":["var.owner"]},"name":{"references":["var.source_object_prefix","data.archive_file.source.output_md5","data.archive_file.source"]},"source":{"references":["data.archive_file.source.output_path","data.archive_file.source"]}},"schema_version":0},{"address":"data.archive_file.source","mode":"data","type":"archive_file","name":"source","provider_config_key":"module.functions.module.cloud_function_gen2:archive","expressions":{"excludes":{"references":["var.files_to_exclude"]},"output_path":{"references":["var.temp_zip_output_dir","var.name"]},"source_dir":{"references":["var.source_dir"]},"type":{"constant_value":"zip"}},"schema_version":0}],"variables":{"allow_unauthenticated":{"default":false,"description":"Whether the function is allowed to be called without authentication"},"available_memory":{"default":"256M","description":"Amount of memory assigned to each execution"},"deploy_sa_email":{"description":"Service account used for CD in GitHub actions"},"description":{"default":null,"description":"Description for the cloud function"},"environment_variables":{"default":null,"description":"Environment variables available to the function"},"execution_timeout":{"default":60,"description":"Amount of time function can execute before timing out, in seconds"},"files_to_exclude":{"default":["terraform.yaml","main.tf"],"description":"files to exclude from the "},"function_entrypoint":{"default":"main","description":"Entrypoint function on cloud function trigger"},"ingress_settings":{"default":"ALLOW_ALL","description":"Available ingress settings. ALLOW_ALL, ALLOW_INTERNAL_ONLY, ALLOW_INTERNAL_AND_GCLB."},"location":{"default":"us-west1","description":"The location of this cloud function"},"name":{"description":"Name of the cloud function"},"owner":{"description":"The owner of the project, used for tagging resources and future ownership tracking"},"project":{},"runtime":{"default":"python311","description":"Function runtime, default python 3.11"},"secret_environment_variables":{"default":[],"description":"list of secrets to mount as env vars"},"secret_ids":{},"source_dir":{"description":"Directory containing source code, relative or absolute (relative preferred, think about CI/CD!)"},"source_object_prefix":{"default":"src-","description":"String prefixing source upload objects"},"source_upload_bucket":{"default":"cloud-function-source-staging","description":"Bucket where source files are uploaded before cloud function deployment"},"temp_zip_output_dir":{"default":"/tmp","description":"Dir path where temporary archive will be written"}}}},"cronjob-gen2":{"source":"../modules/cronjob-gen2","expressions":{"attempt_deadline":{"references":["each.value.cron","each.value"]},"deploy_sa_email":{"references":["var.deploy_sa_email"]},"description":{"references":["each.value.cron","each.value","each.value.description","each.value"]},"http_method":{"references":["each.value.cron","each.value"]},"https_trigger_url":{"references":["module.cloud_function_gen2","each.value.name","each.value"]},"name":{"references":["each.value.name","each.value"]},"owner":{"references":["var.owner"]},"schedule":{"references":["each.value.cron","each.value"]},"target_function_name":{"references":["module.cloud_function_gen2","each.value.name","each.value"]},"target_project":{"references":["var.project"]},"target_region":{"references":["var.region"]},"time_zone":{"references":["each.value.cron","each.value"]}},"for_each_expression":{"references":["local.terraform_configs"]},"module":{"resources":[{"address":"google_cloud_run_service_iam_member.cj_gen2_cron_invoker","mode":"managed","type":"google_cloud_run_service_iam_member","name":"cj_gen2_cron_invoker","provider_config_key":"module.functions.module.cronjob-gen2:google","expressions":{"location":{"references":["var.target_region"]},"member":{"references":["google_service_account.cronjob_sa.email","google_service_account.cronjob_sa"]},"project":{"references":["var.target_project"]},"role":{"constant_value":"roles/run.invoker"},"service":{"references":["var.target_function_name"]}},"schema_version":0},{"address":"google_cloud_scheduler_job.cron_scheduler","mode":"managed","type":"google_cloud_scheduler_job","name":"cron_scheduler","provider_config_key":"module.functions.module.cronjob-gen2:google","expressions":{"attempt_deadline":{"references":["var.attempt_deadline"]},"description":{"references":["var.description"]},"http_target":[{"http_method":{"references":["var.http_method"]},"oidc_token":[{"audience":{"references":["var.https_trigger_url"]},"service_account_email":{"references":["google_service_account.cronjob_sa.email","google_service_account.cronjob_sa"]}}],"uri":{"references":["var.https_trigger_url"]}}],"name":{"references":["var.name"]},"schedule":{"references":["var.schedule"]},"time_zone":{"references":["var.time_zone"]}},"schema_version":0},{"address":"google_cloudfunctions2_function_iam_member.cj_gen2_cron_invoker","mode":"managed","type":"google_cloudfunctions2_function_iam_member","name":"cj_gen2_cron_invoker","provider_config_key":"module.functions.module.cronjob-gen2:google","expressions":{"cloud_function":{"references":["var.target_function_name"]},"location":{"references":["var.target_region"]},"member":{"references":["google_service_account.cronjob_sa.email","google_service_account.cronjob_sa"]},"project":{"references":["var.target_project"]},"role":{"constant_value":"roles/cloudfunctions.invoker"}},"schema_version":0},{"address":"google_service_account.cronjob_sa","mode":"managed","type":"google_service_account","name":"cronjob_sa","provider_config_key":"module.functions.module.cronjob-gen2:google","expressions":{"account_id":{"references":["var.name"]},"description":{"references":["var.name","var.owner"]},"display_name":{"references":["var.name"]}},"schema_version":0},{"address":"google_service_account_iam_member.deploy_sa_actas_iam","mode":"managed","type":"google_service_account_iam_member","name":"deploy_sa_actas_iam","provider_config_key":"module.functions.module.cronjob-gen2:google","expressions":{"member":{"references":["var.deploy_sa_email"]},"role":{"constant_value":"roles/iam.serviceAccountUser"},"service_account_id":{"references":["google_service_account.cronjob_sa.name","google_service_account.cronjob_sa"]}},"schema_version":0}],"variables":{"attempt_deadline":{"default":"320s","description":"Deadline for the function to return before job fail, max 1800s or 30m"},"deploy_sa_email":{"description":"Service account used for CD in GitHub actions"},"description":{"description":"Description of the cronjob trigger"},"http_method":{"default":"GET","description":"HTTP method for the call to make, default GET"},"https_trigger_url":{"description":"URL of the cloud function to trigger"},"name":{"description":"Name of the cronjob trigger"},"owner":{"description":"The owner of the project, used for tagging resources and future ownership tracking"},"schedule":{"description":"Schedule in cron format (* * * * *)"},"target_function_name":{"description":"Function name"},"target_project":{"description":"Function's project"},"target_region":{"default":"us-west1","description":"Function's location / region (default us-west1)"},"time_zone":{"default":"Etc/UTC","description":"Time zone for schedule, default Etc/UTC"}}},"depends_on":["module.cloud_function_gen2"]}},"variables":{"deploy_sa_email":{},"local_variables":{},"owner":{},"project":{},"project_id":{},"region":{},"secret_ids":{}}},"depends_on":["module.infrastructure"]},"infrastructure":{"source":"./infrastructure","expressions":{"deploy_sa_email":{"references":["var.deploy_sa_email"]},"owner":{"references":["var.owner"]},"project":{"references":["var.project"]},"project_id":{"references":["var.project_id"]},"region":{"references":["var.region"]}},"module":{"outputs":{"deploy_sa_email":{"expression":{"references":["var.deploy_sa_email","var.deploy_sa_email","google_service_account.gha_cloud_functions_deployment[0].email","google_service_account.gha_cloud_functions_deployment[0]","google_service_account.gha_cloud_functions_deployment"]}},"secret_ids":{"expression":{"references":["google_secret_manager_secret.secret"]}}},"resources":[{"address":"google_project_iam_member.project_roles","mode":"managed","type":"google_project_iam_member","name":"project_roles","provider_config_key":"google","expressions":{"member":{"references":["var.deploy_sa_email","var.deploy_sa_email","google_service_account.gha_cloud_functions_deployment[0].email","google_service_account.gha_cloud_functions_deployment[0]","google_service_account.gha_cloud_functions_deployment"]},"project":{"references":["var.project"]},"role":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.roles"]}},{"address":"google_project_service.bigquery_googleapis_com","mode":"managed","type":"google_project_service","name":"bigquery_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"bigquery.googleapis.com"}},"schema_version":0},{"address":"google_project_service.bigquerymigration_googleapis_com","mode":"managed","type":"google_project_service","name":"bigquerymigration_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"bigquerymigration.googleapis.com"}},"schema_version":0},{"address":"google_project_service.bigquerystorage_googleapis_com","mode":"managed","type":"google_project_service","name":"bigquerystorage_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"bigquerystorage.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudapis_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudapis_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudapis.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudasset_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudasset_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudasset.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudbuild_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudbuild_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudbuild.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudfunctions_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudfunctions_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudfunctions.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudresourcemanager_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudresourcemanager_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudresourcemanager.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudscheduler_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudscheduler_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudscheduler.googleapis.com"}},"schema_version":0},{"address":"google_project_service.cloudtrace_googleapis_com","mode":"managed","type":"google_project_service","name":"cloudtrace_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"cloudtrace.googleapis.com"}},"schema_version":0},{"address":"google_project_service.compute_googleapis_com","mode":"managed","type":"google_project_service","name":"compute_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"compute.googleapis.com"}},"schema_version":0},{"address":"google_project_service.containerregistry_googleapis_com","mode":"managed","type":"google_project_service","name":"containerregistry_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"containerregistry.googleapis.com"}},"schema_version":0},{"address":"google_project_service.datastore_googleapis_com","mode":"managed","type":"google_project_service","name":"datastore_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"datastore.googleapis.com"}},"schema_version":0},{"address":"google_project_service.eventarc_googleapis_com","mode":"managed","type":"google_project_service","name":"eventarc_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"eventarc.googleapis.com"}},"schema_version":0},{"address":"google_project_service.firebaserules_googleapis_com","mode":"managed","type":"google_project_service","name":"firebaserules_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"firebaserules.googleapis.com"}},"schema_version":0},{"address":"google_project_service.firestore_googleapis_com","mode":"managed","type":"google_project_service","name":"firestore_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"firestore.googleapis.com"}},"schema_version":0},{"address":"google_project_service.firestorekeyvisualizer_googleapis_com","mode":"managed","type":"google_project_service","name":"firestorekeyvisualizer_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"firestorekeyvisualizer.googleapis.com"}},"schema_version":0},{"address":"google_project_service.iam_googleapis_com","mode":"managed","type":"google_project_service","name":"iam_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"iam.googleapis.com"}},"schema_version":0},{"address":"google_project_service.iamcredentials_googleapis_com","mode":"managed","type":"google_project_service","name":"iamcredentials_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"iamcredentials.googleapis.com"}},"schema_version":0},{"address":"google_project_service.logging_googleapis_com","mode":"managed","type":"google_project_service","name":"logging_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"logging.googleapis.com"}},"schema_version":0},{"address":"google_project_service.monitoring_googleapis_com","mode":"managed","type":"google_project_service","name":"monitoring_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"monitoring.googleapis.com"}},"schema_version":0},{"address":"google_project_service.oslogin_googleapis_com","mode":"managed","type":"google_project_service","name":"oslogin_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"oslogin.googleapis.com"}},"schema_version":0},{"address":"google_project_service.project_service","mode":"managed","type":"google_project_service","name":"project_service","provider_config_key":"google","expressions":{"service":{"constant_value":"iap.googleapis.com"}},"schema_version":0},{"address":"google_project_service.pubsub_googleapis_com","mode":"managed","type":"google_project_service","name":"pubsub_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"pubsub.googleapis.com"}},"schema_version":0},{"address":"google_project_service.pubsublite_googleapis_com","mode":"managed","type":"google_project_service","name":"pubsublite_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"pubsublite.googleapis.com"}},"schema_version":0},{"address":"google_project_service.run_googleapis_com","mode":"managed","type":"google_project_service","name":"run_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"run.googleapis.com"}},"schema_version":0},{"address":"google_project_service.secretmanager_googleapis_com","mode":"managed","type":"google_project_service","name":"secretmanager_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"secretmanager.googleapis.com"}},"schema_version":0},{"address":"google_project_service.servicemanagement_googleapis_com","mode":"managed","type":"google_project_service","name":"servicemanagement_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"servicemanagement.googleapis.com"}},"schema_version":0},{"address":"google_project_service.serviceusage_googleapis_com","mode":"managed","type":"google_project_service","name":"serviceusage_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"serviceusage.googleapis.com"}},"schema_version":0},{"address":"google_project_service.sql_component_googleapis_com","mode":"managed","type":"google_project_service","name":"sql_component_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"sql-component.googleapis.com"}},"schema_version":0},{"address":"google_project_service.storage_api_googleapis_com","mode":"managed","type":"google_project_service","name":"storage_api_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"storage-api.googleapis.com"}},"schema_version":0},{"address":"google_project_service.storage_component_googleapis_com","mode":"managed","type":"google_project_service","name":"storage_component_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"storage-component.googleapis.com"}},"schema_version":0},{"address":"google_project_service.storage_googleapis_com","mode":"managed","type":"google_project_service","name":"storage_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"storage.googleapis.com"}},"schema_version":0},{"address":"google_project_service.vpcaccess_googleapis_com","mode":"managed","type":"google_project_service","name":"vpcaccess_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"vpcaccess.googleapis.com"}},"schema_version":0},{"address":"google_project_service.workflowexecutions_googleapis_com","mode":"managed","type":"google_project_service","name":"workflowexecutions_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"workflowexecutions.googleapis.com"}},"schema_version":0},{"address":"google_project_service.workflows_googleapis_com","mode":"managed","type":"google_project_service","name":"workflows_googleapis_com","provider_config_key":"google","expressions":{"service":{"constant_value":"workflows.googleapis.com"}},"schema_version":0},{"address":"google_secret_manager_secret.secret","mode":"managed","type":"google_secret_manager_secret","name":"secret","provider_config_key":"google","expressions":{"labels":{"references":["var.owner"]},"replication":[{"auto":[{}]}],"secret_id":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.secrets"]}},{"address":"google_service_account.gha_cloud_functions_deployment","mode":"managed","type":"google_service_account","name":"gha_cloud_functions_deployment","provider_config_key":"google","expressions":{"account_id":{"constant_value":"gha-cloud-functions-deployment"},"description":{"references":["var.owner"]},"display_name":{"constant_value":"gha-cloud-functions-deployment"},"project":{"references":["var.project"]}},"schema_version":0,"count_expression":{"references":["var.deploy_sa_email"]}},{"address":"google_storage_bucket.staging_bucket","mode":"managed","type":"google_storage_bucket","name":"staging_bucket","provider_config_key":"google","expressions":{"force_destroy":{"constant_value":true},"labels":{"references":["var.owner"]},"location":{"constant_value":"US"},"name":{"references":["var.project"]},"public_access_prevention":{"constant_value":"enforced"}},"schema_version":3},{"address":"google_storage_bucket.tf-state","mode":"managed","type":"google_storage_bucket","name":"tf-state","provider_config_key":"google","expressions":{"force_destroy":{"constant_value":true},"labels":{"references":["var.owner"]},"location":{"constant_value":"US"},"name":{"references":["var.project"]},"public_access_prevention":{"constant_value":"enforced"},"storage_class":{"constant_value":"STANDARD"},"versioning":[{"enabled":{"constant_value":true}}]},"schema_version":3},{"address":"google_storage_bucket_iam_binding.staging-bucket-iam","mode":"managed","type":"google_storage_bucket_iam_binding","name":"staging-bucket-iam","provider_config_key":"google","expressions":{"bucket":{"references":["google_storage_bucket.tf-state.name","google_storage_bucket.tf-state"]},"members":{"references":["var.deploy_sa_email","var.deploy_sa_email","google_service_account.gha_cloud_functions_deployment[0].email","google_service_account.gha_cloud_functions_deployment[0]","google_service_account.gha_cloud_functions_deployment"]},"role":{"constant_value":"roles/storage.objectUser"}},"schema_version":0,"depends_on":["google_storage_bucket.staging_bucket"]},{"address":"google_storage_bucket_iam_binding.tfstate-bucket-iam","mode":"managed","type":"google_storage_bucket_iam_binding","name":"tfstate-bucket-iam","provider_config_key":"google","expressions":{"bucket":{"references":["google_storage_bucket.tf-state.name","google_storage_bucket.tf-state"]},"members":{"references":["var.deploy_sa_email","var.deploy_sa_email","google_service_account.gha_cloud_functions_deployment[0].email","google_service_account.gha_cloud_functions_deployment[0]","google_service_account.gha_cloud_functions_deployment"]},"role":{"constant_value":"roles/storage.objectUser"}},"schema_version":0,"depends_on":["google_storage_bucket.tf-state"]},{"address":"google_storage_bucket_iam_member.staging_bucket_get","mode":"managed","type":"google_storage_bucket_iam_member","name":"staging_bucket_get","provider_config_key":"google","expressions":{"bucket":{"references":["google_storage_bucket.staging_bucket.name","google_storage_bucket.staging_bucket"]},"member":{"references":["var.deploy_sa_email","var.deploy_sa_email","google_service_account.gha_cloud_functions_deployment[0].email","google_service_account.gha_cloud_functions_deployment[0]","google_service_account.gha_cloud_functions_deployment"]},"role":{"constant_value":"roles/storage.objectViewer"}},"schema_version":0},{"address":"google_storage_bucket_iam_member.tfstate_bucket_get","mode":"managed","type":"google_storage_bucket_iam_member","name":"tfstate_bucket_get","provider_config_key":"google","expressions":{"bucket":{"references":["google_storage_bucket.tf-state.name","google_storage_bucket.tf-state"]},"member":{"references":["var.deploy_sa_email","var.deploy_sa_email","google_service_account.gha_cloud_functions_deployment[0].email","google_service_account.gha_cloud_functions_deployment[0]","google_service_account.gha_cloud_functions_deployment"]},"role":{"constant_value":"roles/storage.objectViewer"}},"schema_version":0}],"variables":{"deploy_sa_email":{"default":null,"description":"service account for deployment"},"owner":{"description":"The owner of the project, used for tagging resources and future ownership tracking"},"project":{"description":"project for deployment"},"project_id":{"description":"project id for deployment"},"region":{"description":"region for deployment"}}}},"pubsubs":{"source":"./pubsubs","expressions":{"bucket_location":{"references":["var.bucket_location"]},"deploy_sa_email":{"references":["var.deploy_sa_email","var.deploy_sa_email","module.infrastructure.deploy_sa_email","module.infrastructure"]},"owner":{"references":["var.owner"]},"project":{"references":["var.project"]},"project_id":{"references":["var.project_id"]},"region":{"references":["var.region"]},"zone":{"references":["var.zone"]}},"module":{"module_calls":{"pubsubs":{"source":"../modules/pubsub","expressions":{"gcp_region":{"references":["var.region"]},"owner":{"references":["var.owner"]},"project_id":{"references":["var.project_id"]},"service_account_display_name":{"references":["each.value.pubsub.service_account_display_name","each.value.pubsub","each.value"]},"service_account_id":{"references":["each.value.pubsub.service_account_id","each.value.pubsub","each.value"]},"subscription_id":{"references":["each.value.pubsub.subscription_id","each.value.pubsub","each.value"]},"topic_name":{"references":["each.value.pubsub.topic_name","each.value.pubsub","each.value"]},"ttl":{"references":["each.value.pubsub","each.value"]}},"for_each_expression":{"references":["local.terraform_configs"]},"module":{"outputs":{"pubsub_subscription_name":{"expression":{"references":["google_pubsub_subscription.subscription.name","google_pubsub_subscription.subscription"]}},"pubsub_topic_name":{"expression":{"references":["google_pubsub_topic.topic.name","google_pubsub_topic.topic"]}},"service_account_email":{"expression":{"references":["google_service_account.pubsub_service_account.email","google_service_account.pubsub_service_account"]},"description":"Service account email"}},"resources":[{"address":"google_project_iam_member.project","mode":"managed","type":"google_project_iam_member","name":"project","provider_config_key":"module.pubsubs.module.pubsubs:google","expressions":{"member":{"references":["google_service_account.pubsub_service_account.email","google_service_account.pubsub_service_account"]},"project":{"references":["var.project_id"]},"role":{"constant_value":"roles/monitoring.viewer"}},"schema_version":0},{"address":"google_pubsub_subscription.subscription","mode":"managed","type":"google_pubsub_subscription","name":"subscription","provider_config_key":"module.pubsubs.module.pubsubs:google","expressions":{"ack_deadline_seconds":{"constant_value":600},"enable_message_ordering":{"constant_value":false},"labels":{"references":["var.owner"]},"message_retention_duration":{"constant_value":"604800s"},"name":{"references":["var.subscription_id"]},"retain_acked_messages":{"constant_value":false},"retry_policy":[{"minimum_backoff":{"constant_value":"10s"}}],"topic":{"references":["google_pubsub_topic.topic.name","google_pubsub_topic.topic"]}},"schema_version":0},{"address":"google_pubsub_subscription_iam_member.subscriber","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"subscriber","provider_config_key":"module.pubsubs.module.pubsubs:google","expressions":{"member":{"references":["google_service_account.pubsub_service_account.email","google_service_account.pubsub_service_account"]},"role":{"constant_value":"roles/pubsub.subscriber"},"subscription":{"references":["google_pubsub_subscription.subscription.name","google_pubsub_subscription.subscription"]}},"schema_version":0},{"address":"google_pubsub_subscription_iam_member.viewer","mode":"managed","type":"google_pubsub_subscription_iam_member","name":"viewer","provider_config_key":"module.pubsubs.module.pubsubs:google","expressions":{"member":{"references":["google_service_account.pubsub_service_account.email","google_service_account.pubsub_service_account"]},"role":{"constant_value":"roles/pubsub.viewer"},"subscription":{"references":["google_pubsub_subscription.subscription.name","google_pubsub_subscription.subscription"]}},"schema_version":0},{"address":"google_pubsub_topic.topic","mode":"managed","type":"google_pubsub_topic","name":"topic","provider_config_key":"module.pubsubs.module.pubsubs:google","expressions":{"labels":{"references":["var.owner"]},"message_retention_duration":{"constant_value":"604800s"},"message_storage_policy":[{"allowed_persistence_regions":{"references":["var.gcp_region"]}}],"name":{"references":["var.topic_name"]}},"schema_version":0},{"address":"google_service_account.pubsub_service_account","mode":"managed","type":"google_service_account","name":"pubsub_service_account","provider_config_key":"module.pubsubs.module.pubsubs:google","expressions":{"account_id":{"references":["var.service_account_id"]},"description":{"references":["var.topic_name","var.owner"]},"display_name":{"references":["var.service_account_display_name"]}},"schema_version":0}],"variables":{"gcp_region":{"description":"GCP Region"},"owner":{"description":"The owner of the project, used for tagging resources and future ownership tracking"},"project_id":{"description":"GCP Project name"},"service_account_display_name":{"description":"Service account display name"},"service_account_id":{"description":"Service account id"},"subscription_id":{"description":"Pub/Sub subscription id"},"topic_name":{"description":"Pub/Sub topic name"},"ttl":{"default":null,"description":"Pub/Sub topic ttl"}}}},"pubsubs_sink":{"source":"../modules/pubsub-sink","expressions":{"bucket_location":{"references":["var.bucket_location"]},"gcp_region":{"references":["var.region"]},"owner":{"references":["var.owner"]},"project_id":{"references":["var.project_id"]},"sink_name":{"references":["each.value.sink.sink_name","each.value.sink","each.value"]}},"for_each_expression":{"references":["local.terraform_configs"]},"module":{"resources":[{"address":"google_storage_bucket.pubsub-sink-bucket","mode":"managed","type":"google_storage_bucket","name":"pubsub-sink-bucket","provider_config_key":"module.pubsubs.module.pubsubs_sink:google","expressions":{"force_destroy":{"constant_value":true},"labels":{"references":["var.owner"]},"lifecycle_rule":[{"action":[{"type":{"constant_value":"Delete"}}],"condition":[{"age":{"constant_value":30}}]}],"location":{"references":["var.bucket_location"]},"name":{"references":["var.sink_name"]},"public_access_prevention":{"constant_value":"enforced"}},"schema_version":3}],"variables":{"bucket_location":{"description":"GCP bucket location"},"gcp_region":{"description":"GCP Region"},"owner":{"description":"The owner of the project, used for tagging resources and future ownership tracking"},"project_id":{"description":"GCP Project name"},"sink_name":{"description":"Pub/Sub topic name"}}}}},"variables":{"bucket_location":{},"deploy_sa_email":{},"owner":{},"project":{},"project_id":{},"region":{},"zone":{}}},"depends_on":["module.infrastructure"]}},"variables":{"bucket_location":{"description":"The location for GCS bucket"},"deploy_sa_email":{"default":null,"description":"service account for deployment"},"owner":{"description":"The owner of the project, used for tagging resources and future ownership tracking"},"project":{"description":"The GCP project ID"},"project_id":{"description":"The GCP project ID"},"project_num":{"description":"The GCP project number"},"region":{"description":"The GCP region"},"tf_state_bucket":{"description":"The name of the tfstate bucket"},"zone":{"description":"The GCP zone"}}}},"relevant_attributes":[{"resource":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_subscription.subscription","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function.function","attribute":["name"]},{"resource":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_topic.topic","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function.function","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function.function","attribute":["project"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function.function","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function.function","attribute":["location"]},{"resource":"module.functions.module.cloud_function_gen2.google_cloudfunctions2_function.function","attribute":["project"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].data.archive_file.source","attribute":["output_path"]},{"resource":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_pubsub_topic.topic","attribute":["name"]},{"resource":"module.pubsubs.module.pubsubs[\"example-pubsub\"].google_service_account.pubsub_service_account","attribute":["email"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account.function_sa","attribute":["email"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].data.archive_file.source","attribute":["output_path"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_service_account.function_sa","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account.function_sa","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_storage_bucket_object.zip","attribute":["name"]},{"resource":"module.infrastructure.google_service_account.gha_cloud_functions_deployment[0]","attribute":["email"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_service_account.function_sa","attribute":["email"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function.function","attribute":["url"]},{"resource":"module.functions.module.cloud_function_gen2.google_cloudfunctions2_function.function","attribute":["url"]},{"resource":"module.functions.module.cloud_function_gen2.google_cloudfunctions2_function.function","attribute":["location"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function.function","attribute":["location"]},{"resource":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_service_account.cronjob_sa","attribute":["email"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].data.archive_file.source","attribute":["output_md5"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account.function_sa","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function.function","attribute":["url"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].data.archive_file.source","attribute":["output_md5"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].data.archive_file.source","attribute":["output_path"]},{"resource":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_pubsub_subscription.subscription","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_cloudfunctions2_function.function","attribute":["project"]},{"resource":"module.infrastructure.google_secret_manager_secret.secret","attribute":[]},{"resource":"module.infrastructure.google_storage_bucket.tf-state","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_storage_bucket_object.zip","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function.function","attribute":["location"]},{"resource":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_service_account.cronjob_sa","attribute":["email"]},{"resource":"module.functions.module.cronjob-gen2[\"example-gen2-cron\"].google_service_account.cronjob_sa","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"cookie-scanner\"].google_cloudfunctions2_function.function","attribute":["url"]},{"resource":"module.functions.module.cloud_function_gen2.google_cloudfunctions2_function.function","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_service_account.function_sa","attribute":["email"]},{"resource":"module.functions.module.cloud_function_gen2[\"example-gen2-cron\"].google_storage_bucket_object.zip","attribute":["name"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].data.archive_file.source","attribute":["output_md5"]},{"resource":"module.functions.module.cloud_function_gen2[\"sitemap-collector\"].google_cloudfunctions2_function.function","attribute":["project"]},{"resource":"module.functions.module.cronjob-gen2[\"sitemap-collector\"].google_service_account.cronjob_sa","attribute":["name"]},{"resource":"module.infrastructure.google_storage_bucket.staging_bucket","attribute":["name"]},{"resource":"module.pubsubs.module.pubsubs[\"example-pubsub-sink\"].google_service_account.pubsub_service_account","attribute":["email"]}],"timestamp":"2025-03-04T23:48:42Z","errored":false}
